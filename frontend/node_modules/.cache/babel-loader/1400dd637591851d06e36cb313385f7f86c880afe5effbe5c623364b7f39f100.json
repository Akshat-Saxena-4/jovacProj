{"ast":null,"code":"import _objectSpread from\"C:/Users/aksha/Downloads/Telegram Desktop/aksaux/Minor project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useMemo,useState}from'react';import{Pie,Bar,Line}from'react-chartjs-2';import{fetchTransactions,fetchBudget,addTransaction,setBudget,deleteTransaction}from'../api';import{Chart as ChartJS,ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,PointElement,LineElement,Title,Filler}from'chart.js';import{AdivisorAI}from'../api';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,PointElement,LineElement,Title,Filler);// -----------------------------------------------------------------------\n// --- ICONS ---\nconst Icons={Housing:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"9 22 9 12 15 12 15 22\"})]})),Food:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 2v20\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\"})]})),Transportation:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"7\",cy:\"17\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"17\",cy:\"17\",r:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M15 17h2\"})]})),Entertainment:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"rect\",{width:\"20\",height:\"20\",x:\"2\",y:\"2\",rx:\"2.18\",ry:\"2.18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"7\",x2:\"7\",y1:\"2\",y2:\"22\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"17\",y1:\"2\",y2:\"22\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"22\",y1:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"7\",y1:\"7\",y2:\"7\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"7\",y1:\"17\",y2:\"17\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"22\",y1:\"17\",y2:\"17\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"22\",y1:\"7\",y2:\"7\"})]})),Utilities:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2v8\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m4.93 10.93 1.41 1.41\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2 18h2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M20 18h2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m19.07 10.93-1.41 1.41\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M22 22H2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m8 22 4-10 4 10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 2v8\"})]})),Other:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 17h.01\"})]})),Plus:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5 12h14\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 5v14\"})]})),Trash:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 6h18\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"})]})),Wallet:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\"})]})),TrendingUp:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"22 7 13.5 15.5 8.5 10.5 2 17\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 7 22 7 22 13\"})]})),TrendingDown:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"22 17 13.5 8.5 8.5 13.5 2 7\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 17 22 17 22 11\"})]})),LogOut:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 17 21 12 16 7\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",x2:\"9\",y1:\"12\",y2:\"12\"})]})),LightBulb:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .5 2 1.5 3.5.8.8 1.3 1.5 1.5 2.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 18h6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 22h4\"})]})),X:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"})]}))};export default function Dashboard(_ref){let{onLogOut}=_ref;const[allTransactions,setAllTransactions]=useState([]);const[budget,setBudgetState]=useState(0);const[loading,setLoading]=useState(true);const[filterMonth,setFilterMonth]=useState(new Date().toISOString().slice(0,7));// YYYY-MM\nconst[activeChartTab,setActiveChartTab]=useState('overview');// Advisor State\nconst[advice,setAdvice]=useState(null);const[adviceLoading,setAdviceLoading]=useState(false);const[form,setForm]=useState({description:'',amount:'',type:'expense',category:'Food'});// Filter transactions based on selected month\nconst transactions=useMemo(()=>{return allTransactions.filter(t=>t.timestamp&&t.timestamp.startsWith(filterMonth));},[allTransactions,filterMonth]);// --- CALCULATIONS ---\nconst{totalIncome,totalExpenses,balance}=useMemo(()=>{let income=0,expenses=0;transactions.forEach(t=>{if(t.type==='income')income+=t.amount;else expenses+=t.amount;});return{totalIncome:income,totalExpenses:expenses,balance:income-expenses};},[transactions]);const budgetProgress=useMemo(()=>{if(budget<=0)return 0;return Math.min(totalExpenses/budget*100,100);},[totalExpenses,budget]);// --- INITIAL LOAD ---\nuseEffect(()=>{async function load(){setLoading(true);try{const[txs,b]=await Promise.all([fetchTransactions(),fetchBudget()]);const formattedTxs=(Array.isArray(txs)?txs:[]).map(t=>_objectSpread(_objectSpread({},t),{},{timestamp:new Date(t.timestamp).toISOString()}));setAllTransactions(formattedTxs);setBudgetState((b===null||b===void 0?void 0:b.amount)||0);}catch(e){console.error(\"Failed to load data\",e);}finally{setLoading(false);}}load();},[]);// --- ACTIONS ---\nasync function handleQuickAdd(preset){try{setLoading(true);const newTransaction=_objectSpread(_objectSpread({},preset),{},{timestamp:new Date().toISOString()});const result=await addTransaction(newTransaction);setAllTransactions(prev=>[...prev,_objectSpread(_objectSpread({},result),{},{timestamp:new Date(result.timestamp).toISOString()})]);setMessage({text:'Transaction added!',type:'success'});}catch(error){setMessage({text:'Failed to add transaction',type:'error'});}finally{setLoading(false);}}const[message,setMessage]=useState(null);async function handleAdd(e){e.preventDefault();const amount=parseFloat(form.amount);if(!form.description||isNaN(amount)||amount<=0){setMessage({text:'Please fill all fields correctly',type:'error'});return;}try{const created=await addTransaction(_objectSpread(_objectSpread({},form),{},{amount}));if(created!==null&&created!==void 0&&created._id){setAllTransactions(prev=>[created,...prev]);setForm({description:'',amount:'',type:'expense',category:'Food'});}}catch(e){alert(\"Failed to add transaction\");}}async function handleDelete(id){if(!window.confirm(\"Delete this transaction?\"))return;try{await deleteTransaction(id);setAllTransactions(prev=>prev.filter(t=>t._id!==id));}catch(e){alert(\"Failed to delete\");}}async function handleSetBudget(){const input=prompt('Set monthly budget target (₹):',\"\".concat(budget||0));if(input===null)return;const amount=parseFloat(input);if(isNaN(amount)||amount<0)return;try{const b=await setBudget(amount);setBudgetState((b===null||b===void 0?void 0:b.amount)||0);}catch(e){alert(\"Failed to set budget\");}}async function handleGetAdvice(){setAdviceLoading(true);setAdvice(null);// Clear previous advice while loading\ntry{const response=await AdivisorAI();console.log(response);setAdvice(response.advice);}catch(error){setAdvice(\"Sorry, I couldn't generate advice at this moment.\");}finally{setAdviceLoading(false);}}// --- CHART DATA PREPARATION ---\nconst chartOptionsCommon={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{usePointStyle:true,font:{family:'Inter, sans-serif',size:12}}},tooltip:{backgroundColor:'rgba(17, 24, 39, 0.9)',titleFont:{family:'Inter, sans-serif',size:13},bodyFont:{family:'Inter, sans-serif',size:12},padding:10,cornerRadius:8,displayColors:false}},scales:{x:{grid:{display:false},ticks:{font:{family:'Inter, sans-serif'}}},y:{grid:{color:'#f3f4f6'},ticks:{font:{family:'Inter, sans-serif'}}}}};const pieData=useMemo(()=>{const expenses=transactions.filter(t=>t.type==='expense');const byCategory=expenses.reduce((acc,t)=>{acc[t.category]=(acc[t.category]||0)+t.amount;return acc;},{});return{labels:Object.keys(byCategory).map(k=>k.charAt(0).toUpperCase()+k.slice(1)),datasets:[{data:Object.values(byCategory),backgroundColor:['#818cf8','#34d399','#f87171','#fbbf24','#a78bfa','#fb923c'],borderWidth:0,hoverOffset:15}]};},[transactions]);const lineData=useMemo(()=>{const sorted=[...transactions].sort((a,b)=>new Date(a.timestamp)-new Date(b.timestamp));let runningBalance=0;const dataPoints=sorted.map(t=>{runningBalance+=t.type==='income'?t.amount:-t.amount;return runningBalance;});return{labels:sorted.map(t=>new Date(t.timestamp).toLocaleDateString([],{day:'2-digit',month:'short'})),datasets:[{label:'Net Balance',data:dataPoints,borderColor:'#6366f1',backgroundColor:context=>{const ctx=context.chart.ctx;const gradient=ctx.createLinearGradient(0,0,0,200);gradient.addColorStop(0,'rgba(99,102,241,0.4)');gradient.addColorStop(1,'rgba(99,102,241,0.0)');return gradient;},fill:true,tension:0.4,pointRadius:3,pointHoverRadius:6}]};},[transactions]);const barData=useMemo(()=>{const days={};transactions.forEach(t=>{const day=new Date(t.timestamp).getDate();if(!days[day])days[day]={income:0,expense:0};days[day][t.type]+=t.amount;});const labels=Object.keys(days).sort((a,b)=>Number(a)-Number(b));return{labels:labels,datasets:[{label:'Income',data:labels.map(d=>days[d].income),backgroundColor:'#34d399',borderRadius:4},{label:'Expense',data:labels.map(d=>days[d].expense),backgroundColor:'#f87171',borderRadius:4}]};},[transactions]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-indigo-200 rounded-full mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 font-medium\",children:\"Loading Dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#f8fafc] font-sans text-slate-800\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200/80 px-4 py-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto flex flex-wrap items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-200\",children:/*#__PURE__*/_jsx(Icons.Wallet,{className:\"text-white h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\",children:\"Finance Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs sm:text-sm text-slate-500 font-medium\",children:[\"Welcome back, overview for \",new Date(filterMonth).toLocaleDateString([],{month:'long',year:'numeric'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 sm:gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleGetAdvice,disabled:adviceLoading,className:\"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-all active:scale-95 disabled:opacity-70\",children:[adviceLoading?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(Icons.LightBulb,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Get Advice\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",value:filterMonth,onChange:e=>setFilterMonth(e.target.value),className:\"input-base py-2 px-3 text-sm\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogOut,className:\"flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-100\",children:[/*#__PURE__*/_jsx(Icons.LogOut,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"LogOut\"})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto p-4 sm:px-6 lg:px-8 py-8 space-y-8\",children:[advice&&/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in-up bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 p-4 rounded-2xl relative flex items-start gap-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-amber-100 text-amber-600 rounded-xl flex-shrink-0\",children:/*#__PURE__*/_jsx(Icons.LightBulb,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pr-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-amber-800 mb-1\",children:\"Advisor Insight\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-900 text-sm leading-relaxed\",children:advice})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAdvice(null),className:\"absolute top-4 right-4 text-amber-400 hover:text-amber-700 transition-colors\",children:/*#__PURE__*/_jsx(Icons.X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 animate-fade-in-up\",children:[/*#__PURE__*/_jsx(SummaryCard,{title:\"Total Balance\",amount:balance,type:\"neutral\",icon:Icons.Wallet}),/*#__PURE__*/_jsx(SummaryCard,{title:\"Monthly Income\",amount:totalIncome,type:\"income\",icon:Icons.TrendingUp}),/*#__PURE__*/_jsx(SummaryCard,{title:\"Monthly Expenses\",amount:totalExpenses,type:\"expense\",icon:Icons.TrendingDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-2 space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-baseline mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-slate-700\",children:\"Monthly Budget\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold \".concat(budgetProgress>100?'text-red-500':'text-slate-700'),children:[\"\\u20B9\",totalExpenses.toFixed(0)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-slate-400\",children:[\" / \\u20B9\",budget.toFixed(0)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full transition-all duration-1000 ease-out rounded-full \".concat(budgetProgress>90?'bg-red-500':budgetProgress>75?'bg-amber-400':'bg-indigo-500'),style:{width:\"\".concat(Math.min(budgetProgress,100),\"%\")}})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetBudget,className:\"btn-secondary self-start sm:self-center whitespace-nowrap\",children:\"Edit Budget\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card p-1 sm:p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex border-b border-slate-100 px-4 pt-4 overflow-x-auto no-scrollbar\",children:['overview','trends','breakdown'].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveChartTab(tab),className:\"pb-3 px-4 text-sm font-semibold capitalize transition-all relative \".concat(activeChartTab===tab?'text-indigo-600':'text-slate-400 hover:text-slate-600'),children:[tab,activeChartTab===tab&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full\"})]},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-80 sm:h-96 relative\",children:[activeChartTab==='overview'&&/*#__PURE__*/_jsx(Line,{data:lineData,options:chartOptionsCommon}),activeChartTab==='trends'&&/*#__PURE__*/_jsx(Bar,{data:barData,options:chartOptionsCommon}),activeChartTab==='breakdown'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md h-full\",children:/*#__PURE__*/_jsx(Pie,{data:pieData,options:_objectSpread(_objectSpread({},chartOptionsCommon),{},{plugins:_objectSpread(_objectSpread({},chartOptionsCommon.plugins),{},{legend:{position:'right'}})})})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card p-5 sm:p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-indigo-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Icons.Plus,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold\",children:\"Quick Add\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdd,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-black/10 p-1 rounded-xl\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setForm(f=>_objectSpread(_objectSpread({},f),{},{type:'expense'})),className:\"flex-1 py-2 rounded-lg text-sm font-semibold transition-all \".concat(form.type==='expense'?'bg-white text-indigo-900 shadow-sm':'text-white/70 hover:text-white'),children:\"Expense\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setForm(f=>_objectSpread(_objectSpread({},f),{},{type:'income'})),className:\"flex-1 py-2 rounded-lg text-sm font-semibold transition-all \".concat(form.type==='income'?'bg-white text-indigo-900 shadow-sm':'text-white/70 hover:text-white'),children:\"Income\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount (\\u20B9)\",className:\"input-glass w-full text-lg font-semibold\",min:\"0.01\",step:\"0.01\",required:true,value:form.amount,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{amount:e.target.value}))})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description (e.g., Lunch, Salary)\",className:\"input-glass w-full\",required:true,value:form.description,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{description:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"input-glass flex-1\",value:form.category,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{category:e.target.value})),children:['housing','food','transportation','entertainment','utilities','other'].map(c=>/*#__PURE__*/_jsx(\"option\",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"bg-white text-indigo-700 hover:bg-indigo-50 font-bold py-3 px-6 rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Icons.Plus,{className:\"h-5 w-5 sm:hidden\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Add\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card h-[500px] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white z-10 rounded-t-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-slate-700\",children:\"Transactions\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium px-2.5 py-1 bg-slate-100 text-slate-500 rounded-full\",children:[transactions.length,\" items\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto flex-1 p-3 custom-scrollbar\",children:transactions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col items-center justify-center text-slate-400 space-y-3\",children:[/*#__PURE__*/_jsx(Icons.Wallet,{className:\"h-12 w-12 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No transactions for this month.\"})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:transactions.map(t=>/*#__PURE__*/_jsx(TransactionItem,{t:t,onDelete:handleDelete},t._id))})})]})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .card { @apply bg-white rounded-2xl shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-slate-100/50 transition-all duration-300 hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)]; }\\n                .input-base { @apply bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all; }\\n                .input-glass { @apply bg-white/10 border border-white/20 text-white placeholder-white/60 text-sm rounded-xl focus:bg-white/20 focus:border-white/40 outline-none transition-all py-3 px-4; }\\n                .input-glass option { @apply text-slate-800 bg-white; }\\n                .btn-secondary { @apply py-2 px-4 bg-white border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 active:scale-95 transition-all text-sm; }\\n                .custom-scrollbar::-webkit-scrollbar { width: 6px; }\\n                .custom-scrollbar::-webkit-scrollbar-track { bg: transparent; }\\n                .custom-scrollbar::-webkit-scrollbar-thumb { @apply bg-slate-200 rounded-full hover:bg-slate-300; }\\n                @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\\n                .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }\\n                .no-scrollbar::-webkit-scrollbar { display: none; }\\n                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\\n            \"})]});}// --- SUB-COMPONENTS ---\nfunction SummaryCard(_ref2){let{title,amount,type,icon:Icon}=_ref2;const colors={neutral:'bg-white text-indigo-600',income:'bg-emerald-50 text-emerald-600',expense:'bg-rose-50 text-rose-600'};const iconColors={neutral:'bg-indigo-100 text-indigo-600',income:'bg-emerald-100 text-emerald-600',expense:'bg-rose-100 text-rose-600'};return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 flex items-center gap-4 \".concat(type!=='neutral'?'border-0':'',\" \").concat(colors[type].split(' ')[0]),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(iconColors[type]),children:/*#__PURE__*/_jsx(Icon,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-slate-500 mb-1\",children:title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl sm:text-3xl font-bold \".concat(colors[type].split(' ')[1]),children:[\"\\u20B9\",amount.toLocaleString('en-IN',{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]});}function TransactionItem(_ref3){let{t,onDelete}=_ref3;const Icon=Icons[t.category]||Icons.Other;const isIncome=t.type==='income';return/*#__PURE__*/_jsxs(\"li\",{className:\"group flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2.5 rounded-lg \".concat(isIncome?'bg-emerald-100/50 text-emerald-600':'bg-rose-100/50 text-rose-600'),children:/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-slate-700 truncate\",children:t.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-slate-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:t.category}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(t.timestamp).toLocaleDateString([],{day:'numeric',month:'short'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold whitespace-nowrap \".concat(isIncome?'text-emerald-600':'text-slate-700'),children:[isIncome?'+':'-',\" \\u20B9\",Number(t.amount).toLocaleString('en-IN')]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(t._id),className:\"absolute right-2 p-2 bg-white text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-all\",title:\"Delete transaction\",children:/*#__PURE__*/_jsx(Icons.Trash,{className:\"h-4 w-4\"})})]});}","map":{"version":3,"names":["useEffect","useMemo","useState","Pie","Bar","Line","fetchTransactions","fetchBudget","addTransaction","setBudget","deleteTransaction","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","PointElement","LineElement","Title","Filler","AdivisorAI","jsx","_jsx","jsxs","_jsxs","register","Icons","Housing","props","_objectSpread","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","points","Food","Transportation","cx","cy","r","Entertainment","x","y","rx","ry","x1","x2","y1","y2","Utilities","Other","Plus","Trash","Wallet","TrendingUp","TrendingDown","LogOut","LightBulb","X","Dashboard","_ref","onLogOut","allTransactions","setAllTransactions","budget","setBudgetState","loading","setLoading","filterMonth","setFilterMonth","Date","toISOString","slice","activeChartTab","setActiveChartTab","advice","setAdvice","adviceLoading","setAdviceLoading","form","setForm","description","amount","type","category","transactions","filter","t","timestamp","startsWith","totalIncome","totalExpenses","balance","income","expenses","forEach","budgetProgress","Math","min","load","txs","b","Promise","all","formattedTxs","Array","isArray","map","e","console","error","handleQuickAdd","preset","newTransaction","result","prev","setMessage","text","message","handleAdd","preventDefault","parseFloat","isNaN","created","_id","alert","handleDelete","id","window","confirm","handleSetBudget","input","prompt","concat","handleGetAdvice","response","log","chartOptionsCommon","responsive","maintainAspectRatio","plugins","legend","labels","usePointStyle","font","family","size","tooltip","backgroundColor","titleFont","bodyFont","padding","cornerRadius","displayColors","scales","grid","display","ticks","color","pieData","byCategory","reduce","acc","Object","keys","k","charAt","toUpperCase","datasets","data","values","borderWidth","hoverOffset","lineData","sorted","sort","a","runningBalance","dataPoints","toLocaleDateString","day","month","label","borderColor","context","ctx","chart","gradient","createLinearGradient","addColorStop","tension","pointRadius","pointHoverRadius","barData","days","getDate","expense","Number","borderRadius","className","year","onClick","disabled","value","onChange","target","SummaryCard","title","icon","toFixed","style","tab","options","position","onSubmit","f","placeholder","step","required","c","length","TransactionItem","onDelete","_ref2","Icon","colors","neutral","iconColors","split","toLocaleString","minimumFractionDigits","maximumFractionDigits","_ref3","isIncome"],"sources":["C:/Users/aksha/Downloads/Telegram Desktop/aksaux/Minor project/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { Pie, Bar, Line } from 'react-chartjs-2';\nimport { fetchTransactions, fetchBudget, addTransaction,setBudget, deleteTransaction,  } from '../api';\nimport {\n    Chart as ChartJS,\n    ArcElement,\n    Tooltip,\n    Legend,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    PointElement,\n    LineElement,\n    Title,\n    Filler\n} from 'chart.js';\nimport { AdivisorAI } from '../api';\n\n// Register ChartJS components\nChartJS.register(\n    ArcElement,\n    Tooltip,\n    Legend,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    PointElement,\n    LineElement,\n    Title,\n    Filler\n);\n\n// -----------------------------------------------------------------------\n\n// --- ICONS ---\nconst Icons = {\n    Housing: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/><polyline points=\"9 22 9 12 15 12 15 22\"/></svg>,\n    Food: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\"/><path d=\"M7 2v20\"/><path d=\"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\"/></svg>,\n    Transportation: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2\"/><circle cx=\"7\" cy=\"17\" r=\"2\"/><circle cx=\"17\" cy=\"17\" r=\"2\"/><path d=\"M15 17h2\"/></svg>,\n    Entertainment: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><rect width=\"20\" height=\"20\" x=\"2\" y=\"2\" rx=\"2.18\" ry=\"2.18\"/><line x1=\"7\" x2=\"7\" y1=\"2\" y2=\"22\"/><line x1=\"17\" x2=\"17\" y1=\"2\" y2=\"22\"/><line x1=\"2\" x2=\"22\" y1=\"12\" y2=\"12\"/><line x1=\"2\" x2=\"7\" y1=\"7\" y2=\"7\"/><line x1=\"2\" x2=\"7\" y1=\"17\" y2=\"17\"/><line x1=\"17\" x2=\"22\" y1=\"17\" y2=\"17\"/><line x1=\"17\" x2=\"22\" y1=\"7\" y2=\"7\"/></svg>,\n    Utilities: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M12 2v8\"/><path d=\"m4.93 10.93 1.41 1.41\"/><path d=\"M2 18h2\"/><path d=\"M20 18h2\"/><path d=\"m19.07 10.93-1.41 1.41\"/><path d=\"M22 22H2\"/><path d=\"m8 22 4-10 4 10\"/><path d=\"M12 2v8\"/></svg>,\n    Other: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>,\n    Plus: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M5 12h14\"/><path d=\"M12 5v14\"/></svg>,\n    Trash: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M3 6h18\"/><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"/><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"/></svg>,\n    Wallet: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\"/><path d=\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\"/></svg>,\n    TrendingUp: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><polyline points=\"22 7 13.5 15.5 8.5 10.5 2 17\"/><polyline points=\"16 7 22 7 22 13\"/></svg>,\n    TrendingDown: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><polyline points=\"22 17 13.5 8.5 8.5 13.5 2 7\"/><polyline points=\"16 17 22 17 22 11\"/></svg>,\n    LogOut: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\"/></svg>,\n    LightBulb: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .5 2 1.5 3.5.8.8 1.3 1.5 1.5 2.5\"/><path d=\"M9 18h6\"/><path d=\"M10 22h4\"/></svg>,\n    X: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>,\n};\n\nexport default function Dashboard({ onLogOut }) {\n    const [allTransactions, setAllTransactions] = useState([]);\n    const [budget, setBudgetState] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7)); // YYYY-MM\n    const [activeChartTab, setActiveChartTab] = useState('overview');\n    \n    // Advisor State\n    const [advice, setAdvice] = useState(null);\n    const [adviceLoading, setAdviceLoading] = useState(false);\n\n    const [form, setForm] = useState({\n        description: '',\n        amount: '',\n        type: 'expense',\n        category: 'Food'\n    });\n\n    // Filter transactions based on selected month\n    const transactions = useMemo(() => {\n        return allTransactions.filter(t => t.timestamp && t.timestamp.startsWith(filterMonth));\n    }, [allTransactions, filterMonth]);\n\n    // --- CALCULATIONS ---\n    const { totalIncome, totalExpenses, balance } = useMemo(() => {\n        let income = 0, expenses = 0;\n        transactions.forEach(t => {\n            if (t.type === 'income') income += t.amount;\n            else expenses += t.amount;\n        });\n        return { totalIncome: income, totalExpenses: expenses, balance: income - expenses };\n    }, [transactions]);\n\n    const budgetProgress = useMemo(() => {\n        if (budget <= 0) return 0;\n        return Math.min((totalExpenses / budget) * 100, 100);\n    }, [totalExpenses, budget]);\n\n    // --- INITIAL LOAD ---\n    useEffect(() => {\n        async function load() {\n            setLoading(true);\n            try {\n                const [txs, b] = await Promise.all([fetchTransactions(), fetchBudget()]);\n                const formattedTxs = (Array.isArray(txs) ? txs : []).map(t => ({\n                    ...t,\n                    timestamp: new Date(t.timestamp).toISOString()\n                }));\n                setAllTransactions(formattedTxs);\n                setBudgetState(b?.amount || 0);\n            } catch (e) {\n                console.error(\"Failed to load data\", e);\n            } finally {\n                setLoading(false);\n            }\n        }\n        load();\n    }, []);\n\n    // --- ACTIONS ---\n    async function handleQuickAdd(preset) {\n        try {\n            setLoading(true);\n            const newTransaction = {\n                ...preset,\n                timestamp: new Date().toISOString(),\n            };\n            const result = await addTransaction(newTransaction);\n            setAllTransactions(prev => [...prev, { ...result, timestamp: new Date(result.timestamp).toISOString() }]);\n            setMessage({ text: 'Transaction added!', type: 'success' });\n        } catch (error) {\n            setMessage({ text: 'Failed to add transaction', type: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    }\n    const [message, setMessage] = useState(null);\n    async function handleAdd(e) {\n        e.preventDefault();\n        const amount = parseFloat(form.amount);\n        if (!form.description || isNaN(amount) || amount <= 0) {\n            setMessage({ text: 'Please fill all fields correctly', type: 'error' });\n            return;\n        }\n        try {\n            const created = await addTransaction({ ...form, amount });\n            if (created?._id) {\n                setAllTransactions(prev => [created, ...prev]);\n                setForm({ description: '', amount: '', type: 'expense', category: 'Food' });\n            }\n        } catch (e) { alert(\"Failed to add transaction\"); }\n    }\n\n    async function handleDelete(id) {\n        if (!window.confirm(\"Delete this transaction?\")) return;\n        try {\n            await deleteTransaction(id);\n            setAllTransactions(prev => prev.filter(t => t._id !== id));\n        } catch (e) { alert(\"Failed to delete\"); }\n    }\n\n    async function handleSetBudget() {\n        const input = prompt('Set monthly budget target (₹):', `${budget || 0}`);\n        if (input === null) return;\n        const amount = parseFloat(input);\n        if (isNaN(amount) || amount < 0) return;\n        try {\n            const b = await setBudget(amount);\n            setBudgetState(b?.amount || 0);\n        } catch (e) { alert(\"Failed to set budget\"); }\n    }\n\n    async function handleGetAdvice() {\n        setAdviceLoading(true);\n        setAdvice(null); // Clear previous advice while loading\n        try {\n            const response = await AdivisorAI();\n            console.log(response)\n            setAdvice(response.advice);\n        } catch (error) {\n            setAdvice(\"Sorry, I couldn't generate advice at this moment.\");\n        } finally {\n            setAdviceLoading(false);\n        }\n    }\n\n    // --- CHART DATA PREPARATION ---\n    const chartOptionsCommon = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n            legend: { labels: { usePointStyle: true, font: { family: 'Inter, sans-serif', size: 12 } } },\n            tooltip: {\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\n                titleFont: { family: 'Inter, sans-serif', size: 13 },\n                bodyFont: { family: 'Inter, sans-serif', size: 12 },\n                padding: 10,\n                cornerRadius: 8,\n                displayColors: false\n            }\n        },\n        scales: {\n            x: { grid: { display: false }, ticks: { font: { family: 'Inter, sans-serif' } } },\n            y: { grid: { color: '#f3f4f6' }, ticks: { font: { family: 'Inter, sans-serif' } } }\n        }\n    };\n\n    const pieData = useMemo(() => {\n        const expenses = transactions.filter(t => t.type === 'expense');\n        const byCategory = expenses.reduce((acc, t) => { acc[t.category] = (acc[t.category] || 0) + t.amount; return acc; }, {});\n        return {\n            labels: Object.keys(byCategory).map(k => k.charAt(0).toUpperCase() + k.slice(1)),\n            datasets: [{\n                data: Object.values(byCategory),\n                backgroundColor: ['#818cf8', '#34d399', '#f87171', '#fbbf24', '#a78bfa', '#fb923c'],\n                borderWidth: 0,\n                hoverOffset: 15\n            }]\n        };\n    }, [transactions]);\n\n    const lineData = useMemo(() => {\n        const sorted = [...transactions].sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n        let runningBalance = 0;\n        const dataPoints = sorted.map(t => {\n            runningBalance += t.type === 'income' ? t.amount : -t.amount;\n            return runningBalance;\n        });\n\n        return {\n            labels: sorted.map(t => new Date(t.timestamp).toLocaleDateString([], { day: '2-digit', month: 'short' })),\n            datasets: [{\n                label: 'Net Balance',\n                data: dataPoints,\n                borderColor: '#6366f1',\n                backgroundColor: (context) => {\n                    const ctx = context.chart.ctx;\n                    const gradient = ctx.createLinearGradient(0, 0, 0, 200);\n                    gradient.addColorStop(0, 'rgba(99,102,241,0.4)');\n                    gradient.addColorStop(1, 'rgba(99,102,241,0.0)');\n                    return gradient;\n                },\n                fill: true,\n                tension: 0.4,\n                pointRadius: 3,\n                pointHoverRadius: 6\n            }]\n        };\n    }, [transactions]);\n\n    const barData = useMemo(() => {\n        const days = {};\n        transactions.forEach(t => {\n            const day = new Date(t.timestamp).getDate();\n            if (!days[day]) days[day] = { income: 0, expense: 0 };\n            days[day][t.type] += t.amount;\n        });\n        const labels = Object.keys(days).sort((a, b) => Number(a) - Number(b));\n        return {\n            labels: labels,\n            datasets: [\n                { label: 'Income', data: labels.map(d => days[d].income), backgroundColor: '#34d399', borderRadius: 4 },\n                { label: 'Expense', data: labels.map(d => days[d].expense), backgroundColor: '#f87171', borderRadius: 4 }\n            ]\n        };\n    }, [transactions]);\n\n\n    if (loading) {\n        return <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n            <div className=\"animate-pulse flex flex-col items-center\">\n                <div className=\"h-12 w-12 bg-indigo-200 rounded-full mb-4\"></div>\n                <div className=\"text-gray-400 font-medium\">Loading Dashboard...</div>\n            </div>\n        </div>;\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[#f8fafc] font-sans text-slate-800\">\n            {/* --- HEADER --- */}\n            <header className=\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200/80 px-4 py-4 sm:px-6 lg:px-8\">\n                <div className=\"max-w-7xl mx-auto flex flex-wrap items-center justify-between gap-4\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-2 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-200\">\n                            <Icons.Wallet className=\"text-white h-6 w-6\" />\n                        </div>\n                        <div>\n                            <h1 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                                Finance Dashboard\n                            </h1>\n                            <p className=\"text-xs sm:text-sm text-slate-500 font-medium\">Welcome back, overview for {new Date(filterMonth).toLocaleDateString([], { month: 'long', year: 'numeric' })}</p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-center gap-3 sm:gap-4\">\n                        <button\n                            onClick={handleGetAdvice}\n                            disabled={adviceLoading}\n                            className=\"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-all active:scale-95 disabled:opacity-70\"\n                        >\n                            {adviceLoading ? (\n                                <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                            ) : (\n                                <Icons.LightBulb className=\"h-4 w-4\" />\n                            )}\n                            <span className=\"hidden sm:inline\">Get Advice</span>\n                        </button>\n                         <input\n                            type=\"month\"\n                            value={filterMonth}\n                            onChange={(e) => setFilterMonth(e.target.value)}\n                            className=\"input-base py-2 px-3 text-sm\"\n                        />\n                        <button onClick={onLogOut} className=\"flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-100\">\n                            <Icons.LogOut className=\"h-4 w-4\" />\n                            <span className=\"hidden sm:inline\">LogOut</span>\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            <main className=\"max-w-7xl mx-auto p-4 sm:px-6 lg:px-8 py-8 space-y-8\">\n                {/* --- ADVICE SECTION (Conditionally Rendered) --- */}\n                {advice && (\n                    <div className=\"animate-fade-in-up bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 p-4 rounded-2xl relative flex items-start gap-4 shadow-sm\">\n                        <div className=\"p-2 bg-amber-100 text-amber-600 rounded-xl flex-shrink-0\">\n                            <Icons.LightBulb className=\"h-6 w-6\" />\n                        </div>\n                        <div className=\"flex-1 pr-8\">\n                            <h3 className=\"font-bold text-amber-800 mb-1\">Advisor Insight</h3>\n                            <p className=\"text-amber-900 text-sm leading-relaxed\">{advice}</p>\n                        </div>\n                        <button \n                            onClick={() => setAdvice(null)} \n                            className=\"absolute top-4 right-4 text-amber-400 hover:text-amber-700 transition-colors\"\n                        >\n                            <Icons.X className=\"h-5 w-5\" />\n                        </button>\n                    </div>\n                )}\n\n                {/* --- SUMMARY CARDS --- */}\n                <section className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 animate-fade-in-up\">\n                    <SummaryCard title=\"Total Balance\" amount={balance} type=\"neutral\" icon={Icons.Wallet} />\n                    <SummaryCard title=\"Monthly Income\" amount={totalIncome} type=\"income\" icon={Icons.TrendingUp} />\n                    <SummaryCard title=\"Monthly Expenses\" amount={totalExpenses} type=\"expense\" icon={Icons.TrendingDown} />\n                </section>\n\n                <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-8\">\n                    {/* --- LEFT COLUMN (Charts & Budget) --- */}\n                    <div className=\"xl:col-span-2 space-y-8\">\n                        {/* BUDGET PROGRESS */}\n                        <section className=\"card p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n                            <div className=\"flex-1\">\n                                <div className=\"flex justify-between items-baseline mb-2\">\n                                    <h3 className=\"font-semibold text-slate-700\">Monthly Budget</h3>\n                                    <div className=\"text-sm\">\n                                        <span className={`font-bold ${budgetProgress > 100 ? 'text-red-500' : 'text-slate-700'}`}>\n                                            ₹{totalExpenses.toFixed(0)}\n                                        </span>\n                                        <span className=\"text-slate-400\"> / ₹{budget.toFixed(0)}</span>\n                                    </div>\n                                </div>\n                                <div className=\"h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner\">\n                                    <div\n                                        className={`h-full transition-all duration-1000 ease-out rounded-full ${\n                                            budgetProgress > 90 ? 'bg-red-500' : budgetProgress > 75 ? 'bg-amber-400' : 'bg-indigo-500'\n                                        }`}\n                                        style={{ width: `${Math.min(budgetProgress, 100)}%` }}\n                                    />\n                                </div>\n                            </div>\n                            <button onClick={handleSetBudget} className=\"btn-secondary self-start sm:self-center whitespace-nowrap\">\n                                Edit Budget\n                            </button>\n                        </section>\n\n                        {/* CHARTS AREA */}\n                        <section className=\"card p-1 sm:p-2\">\n                            <div className=\"flex border-b border-slate-100 px-4 pt-4 overflow-x-auto no-scrollbar\">\n                                {['overview', 'trends', 'breakdown'].map((tab) => (\n                                    <button\n                                        key={tab}\n                                        onClick={() => setActiveChartTab(tab)}\n                                        className={`pb-3 px-4 text-sm font-semibold capitalize transition-all relative ${\n                                            activeChartTab === tab ? 'text-indigo-600' : 'text-slate-400 hover:text-slate-600'\n                                        }`}\n                                    >\n                                        {tab}\n                                        {activeChartTab === tab && (\n                                            <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full\" />\n                                        )}\n                                    </button>\n                                ))}\n                            </div>\n                            <div className=\"p-4 h-80 sm:h-96 relative\">\n                                {activeChartTab === 'overview' && <Line data={lineData} options={chartOptionsCommon} />}\n                                {activeChartTab === 'trends' && <Bar data={barData} options={chartOptionsCommon} />}\n                                {activeChartTab === 'breakdown' && (\n                                    <div className=\"h-full flex items-center justify-center\">\n                                        <div className=\"w-full max-w-md h-full\">\n                                            <Pie data={pieData} options={{...chartOptionsCommon, plugins: { ...chartOptionsCommon.plugins, legend: { position: 'right' }}}} />\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </section>\n                    </div>\n\n                    {/* --- RIGHT COLUMN (Actions & History) --- */}\n                    <div className=\"space-y-8\">\n                     \n                           <section className=\"card p-5 sm:p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-indigo-200\">\n                            <div className=\"flex items-center gap-3 mb-4\">\n                                <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\">\n                                    <Icons.Plus className=\"h-5 w-5 text-white\" />\n                                </div>\n                                <h2 className=\"text-lg font-bold\">Quick Add</h2>\n                            </div>\n\n                            <form onSubmit={handleAdd} className=\"space-y-4\">\n                                {/* Segmented Toggle for Type */}\n                                <div className=\"flex bg-black/10 p-1 rounded-xl\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setForm(f => ({ ...f, type: 'expense' }))}\n                                        className={`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${form.type === 'expense' ? 'bg-white text-indigo-900 shadow-sm' : 'text-white/70 hover:text-white'}`}\n                                    >\n                                        Expense\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setForm(f => ({ ...f, type: 'income' }))}\n                                        className={`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${form.type === 'income' ? 'bg-white text-indigo-900 shadow-sm' : 'text-white/70 hover:text-white'}`}\n                                    >\n                                        Income\n                                    </button>\n                                </div>\n\n                                <div>\n                                    <input\n                                        type=\"number\"\n                                        placeholder=\"Amount (₹)\"\n                                        className=\"input-glass w-full text-lg font-semibold\"\n                                        min=\"0.01\" step=\"0.01\" required\n                                        value={form.amount}\n                                        onChange={e => setForm(f => ({ ...f, amount: e.target.value }))}\n                                    />\n                                </div>\n\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Description (e.g., Lunch, Salary)\"\n                                    className=\"input-glass w-full\"\n                                    required\n                                    value={form.description}\n                                    onChange={e => setForm(f => ({ ...f, description: e.target.value }))}\n                                />\n\n                                <div className=\"flex gap-3\">\n                                    <select\n                                        className=\"input-glass flex-1\"\n                                        value={form.category}\n                                        onChange={e => setForm(f => ({ ...f, category: e.target.value }))}\n                                    >\n                                        {['housing', 'food', 'transportation', 'entertainment', 'utilities', 'other'].map(c => (\n                                            <option key={c} value={c}>{c.charAt(0).toUpperCase() + c.slice(1)}</option>\n                                        ))}\n                                    </select>\n                                    <button type=\"submit\" className=\"bg-white text-indigo-700 hover:bg-indigo-50 font-bold py-3 px-6 rounded-xl shadow-md transition-all active:scale-95 flex items-center justify-center\">\n                                        <Icons.Plus className=\"h-5 w-5 sm:hidden\" />\n                                        <span className=\"hidden sm:inline\">Add</span>\n                                    </button>\n                                </div>\n                            </form>\n                        </section>\n\n                        {/* RECENT TRANSACTIONS */}\n                        <section className=\"card h-[500px] flex flex-col\">\n                            <div className=\"p-5 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white z-10 rounded-t-2xl\">\n                                <h2 className=\"font-bold text-slate-700\">Transactions</h2>\n                                <span className=\"text-xs font-medium px-2.5 py-1 bg-slate-100 text-slate-500 rounded-full\">\n                                    {transactions.length} items\n                                </span>\n                            </div>\n                            <div className=\"overflow-y-auto flex-1 p-3 custom-scrollbar\">\n                                {transactions.length === 0 ? (\n                                    <div className=\"h-full flex flex-col items-center justify-center text-slate-400 space-y-3\">\n                                        <Icons.Wallet className=\"h-12 w-12 opacity-50\" />\n                                        <p>No transactions for this month.</p>\n                                    </div>\n                                ) : (\n                                    <ul className=\"space-y-2\">\n                                        {transactions.map(t => (\n                                            <TransactionItem key={t._id} t={t} onDelete={handleDelete} />\n                                        ))}\n                                    </ul>\n                                )}\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </main>\n             {/* Global styles for custom scrollbar and animations that Tailwind doesn't provide out of the box cleanly */}\n             <style>{`\n                .card { @apply bg-white rounded-2xl shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-slate-100/50 transition-all duration-300 hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)]; }\n                .input-base { @apply bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all; }\n                .input-glass { @apply bg-white/10 border border-white/20 text-white placeholder-white/60 text-sm rounded-xl focus:bg-white/20 focus:border-white/40 outline-none transition-all py-3 px-4; }\n                .input-glass option { @apply text-slate-800 bg-white; }\n                .btn-secondary { @apply py-2 px-4 bg-white border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 active:scale-95 transition-all text-sm; }\n                .custom-scrollbar::-webkit-scrollbar { width: 6px; }\n                .custom-scrollbar::-webkit-scrollbar-track { bg: transparent; }\n                .custom-scrollbar::-webkit-scrollbar-thumb { @apply bg-slate-200 rounded-full hover:bg-slate-300; }\n                @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n                .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }\n                .no-scrollbar::-webkit-scrollbar { display: none; }\n                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n            `}</style>\n        </div>\n    );\n}\n\n// --- SUB-COMPONENTS ---\n\nfunction SummaryCard({ title, amount, type, icon: Icon }) {\n    const colors = {\n        neutral: 'bg-white text-indigo-600',\n        income: 'bg-emerald-50 text-emerald-600',\n        expense: 'bg-rose-50 text-rose-600',\n    };\n    const iconColors = {\n        neutral: 'bg-indigo-100 text-indigo-600',\n        income: 'bg-emerald-100 text-emerald-600',\n        expense: 'bg-rose-100 text-rose-600',\n    }\n\n    return (\n        <div className={`card p-6 flex items-center gap-4 ${type !== 'neutral' ? 'border-0' : ''} ${colors[type].split(' ')[0]}`}>\n            <div className={`p-3 rounded-xl ${iconColors[type]}`}>\n                <Icon className=\"h-6 w-6\" />\n            </div>\n            <div>\n                <p className=\"text-sm font-medium text-slate-500 mb-1\">{title}</p>\n                <p className={`text-2xl sm:text-3xl font-bold ${colors[type].split(' ')[1]}`}>\n                    ₹{amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                </p>\n            </div>\n        </div>\n    );\n}\n\nfunction TransactionItem({ t, onDelete }) {\n    const Icon = Icons[t.category] || Icons.Other;\n    const isIncome = t.type === 'income';\n\n    return (\n        <li className=\"group flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors relative\">\n            <div className={`p-2.5 rounded-lg ${isIncome ? 'bg-emerald-100/50 text-emerald-600' : 'bg-rose-100/50 text-rose-600'}`}>\n                <Icon className=\"h-5 w-5\" />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n                <p className=\"font-semibold text-slate-700 truncate\">{t.description}</p>\n                <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n                     <span className=\"capitalize\">{t.category}</span>\n                     <span>•</span>\n                     <span>{new Date(t.timestamp).toLocaleDateString([], { day: 'numeric', month: 'short' })}</span>\n                </div>\n            </div>\n            <div className={`font-bold whitespace-nowrap ${isIncome ? 'text-emerald-600' : 'text-slate-700'}`}>\n                {isIncome ? '+' : '-'} ₹{Number(t.amount).toLocaleString('en-IN')}\n            </div>\n             <button\n                onClick={() => onDelete(t._id)}\n                className=\"absolute right-2 p-2 bg-white text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-all\"\n                title=\"Delete transaction\"\n            >\n                <Icons.Trash className=\"h-4 w-4\" />\n            </button>\n        </li>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}