{"ast":null,"code":"import _objectSpread from\"/home/stuban/Downloads/Minor project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useMemo,useState}from'react';import{Pie,Bar,Line}from'react-chartjs-2';import{Chart as ChartJS,ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,PointElement,LineElement,Title,Filler}from'chart.js';import{AdivisorAI}from'../api';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,PointElement,LineElement,Title,Filler);// --- INLINE MOCK API (Ensures functionality without external backend) ---\nconst MOCK_STORAGE_KEY='finance_dashboard_mock_data';const delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));const getMockData=()=>{try{return JSON.parse(localStorage.getItem(MOCK_STORAGE_KEY))||{transactions:[],budget:0};}catch(_unused){return{transactions:[],budget:0};}};const saveMockData=data=>localStorage.setItem(MOCK_STORAGE_KEY,JSON.stringify(data));// Seed some data if empty\nif(!localStorage.getItem(MOCK_STORAGE_KEY)){const initialData={budget:2500,transactions:[{_id:'1',description:'Salary',amount:3000,type:'income',category:'Other',timestamp:new Date().setDate(1)},{_id:'2',description:'Rent',amount:1200,type:'expense',category:'Housing',timestamp:new Date().setDate(5)},{_id:'3',description:'Groceries',amount:150,type:'expense',category:'Food',timestamp:new Date().setDate(7)},{_id:'4',description:'Movies',amount:45,type:'expense',category:'Entertainment',timestamp:new Date().setDate(10)}]};saveMockData(initialData);}async function fetchTransactions(){await delay(500);return getMockData().transactions;}async function fetchBudget(){await delay(500);return{amount:getMockData().budget};}async function setBudgetAPI(amount){await delay(300);const data=getMockData();data.budget=amount;saveMockData(data);return{amount};}async function addTransactionAPI(tx){await delay(300);const data=getMockData();const newTx=_objectSpread(_objectSpread({},tx),{},{_id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString()});data.transactions.unshift(newTx);saveMockData(data);return newTx;}async function deleteTransactionAPI(id){await delay(300);const data=getMockData();data.transactions=data.transactions.filter(t=>t._id!==id);saveMockData(data);return true;}async function resetTransactionsAPI(){await delay(300);const data=getMockData();data.transactions=[];saveMockData(data);return true;}// -----------------------------------------------------------------------\n// --- ICONS ---\nconst Icons={Housing:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"9 22 9 12 15 12 15 22\"})]})),Food:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M7 2v20\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\"})]})),Transportation:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"7\",cy:\"17\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"17\",cy:\"17\",r:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M15 17h2\"})]})),Entertainment:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"rect\",{width:\"20\",height:\"20\",x:\"2\",y:\"2\",rx:\"2.18\",ry:\"2.18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"7\",x2:\"7\",y1:\"2\",y2:\"22\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"17\",y1:\"2\",y2:\"22\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"22\",y1:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"7\",y1:\"7\",y2:\"7\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"2\",x2:\"7\",y1:\"17\",y2:\"17\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"22\",y1:\"17\",y2:\"17\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"17\",x2:\"22\",y1:\"7\",y2:\"7\"})]})),Utilities:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2v8\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m4.93 10.93 1.41 1.41\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2 18h2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M20 18h2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m19.07 10.93-1.41 1.41\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M22 22H2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m8 22 4-10 4 10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 2v8\"})]})),Other:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 17h.01\"})]})),Plus:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5 12h14\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 5v14\"})]})),Trash:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 6h18\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"})]})),Wallet:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\"})]})),TrendingUp:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"22 7 13.5 15.5 8.5 10.5 2 17\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 7 22 7 22 13\"})]})),TrendingDown:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"22 17 13.5 8.5 8.5 13.5 2 7\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 17 22 17 22 11\"})]})),LogOut:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"16 17 21 12 16 7\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",x2:\"9\",y1:\"12\",y2:\"12\"})]})),LightBulb:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .5 2 1.5 3.5.8.8 1.3 1.5 1.5 2.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 18h6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 22h4\"})]})),X:props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},props),{},{children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"})]}))};export default function Dashboard(_ref){let{onLogOut}=_ref;const[allTransactions,setAllTransactions]=useState([]);const[budget,setBudgetState]=useState(0);const[loading,setLoading]=useState(true);const[filterMonth,setFilterMonth]=useState(new Date().toISOString().slice(0,7));// YYYY-MM\nconst[activeChartTab,setActiveChartTab]=useState('overview');// Advisor State\nconst[advice,setAdvice]=useState(null);const[adviceLoading,setAdviceLoading]=useState(false);const[form,setForm]=useState({description:'',amount:'',type:'expense',category:'Food'});// Filter transactions based on selected month\nconst transactions=useMemo(()=>{return allTransactions.filter(t=>t.timestamp&&t.timestamp.startsWith(filterMonth));},[allTransactions,filterMonth]);// --- CALCULATIONS ---\nconst{totalIncome,totalExpenses,balance}=useMemo(()=>{let income=0,expenses=0;transactions.forEach(t=>{if(t.type==='income')income+=t.amount;else expenses+=t.amount;});return{totalIncome:income,totalExpenses:expenses,balance:income-expenses};},[transactions]);const budgetProgress=useMemo(()=>{if(budget<=0)return 0;return Math.min(totalExpenses/budget*100,100);},[totalExpenses,budget]);// --- INITIAL LOAD ---\nuseEffect(()=>{async function load(){setLoading(true);try{const[txs,b]=await Promise.all([fetchTransactions(),fetchBudget()]);const formattedTxs=(Array.isArray(txs)?txs:[]).map(t=>_objectSpread(_objectSpread({},t),{},{timestamp:new Date(t.timestamp).toISOString()}));setAllTransactions(formattedTxs);setBudgetState((b===null||b===void 0?void 0:b.amount)||0);}catch(e){console.error(\"Failed to load data\",e);}finally{setLoading(false);}}load();},[]);// --- ACTIONS ---\nasync function handleAdd(e){e.preventDefault();const amount=parseFloat(form.amount);if(!form.description||isNaN(amount)||amount<=0)return;try{const created=await addTransactionAPI(_objectSpread(_objectSpread({},form),{},{amount}));if(created!==null&&created!==void 0&&created._id){setAllTransactions(prev=>[created,...prev]);setForm({description:'',amount:'',type:'expense',category:'Food'});}}catch(e){alert(\"Failed to add transaction\");}}async function handleDelete(id){if(!window.confirm(\"Delete this transaction?\"))return;try{await deleteTransactionAPI(id);setAllTransactions(prev=>prev.filter(t=>t._id!==id));}catch(e){alert(\"Failed to delete\");}}async function handleSetBudget(){const input=prompt('Set monthly budget target (₹):',\"\".concat(budget||0));if(input===null)return;const amount=parseFloat(input);if(isNaN(amount)||amount<0)return;try{const b=await setBudgetAPI(amount);setBudgetState((b===null||b===void 0?void 0:b.amount)||0);}catch(e){alert(\"Failed to set budget\");}}async function handleGetAdvice(){setAdviceLoading(true);setAdvice(null);// Clear previous advice while loading\ntry{const response=await AdivisorAI();setAdvice(response);}catch(error){setAdvice(\"Sorry, I couldn't generate advice at this moment.\");}finally{setAdviceLoading(false);}}// --- CHART DATA PREPARATION ---\nconst chartOptionsCommon={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{usePointStyle:true,font:{family:'Inter, sans-serif',size:12}}},tooltip:{backgroundColor:'rgba(17, 24, 39, 0.9)',titleFont:{family:'Inter, sans-serif',size:13},bodyFont:{family:'Inter, sans-serif',size:12},padding:10,cornerRadius:8,displayColors:false}},scales:{x:{grid:{display:false},ticks:{font:{family:'Inter, sans-serif'}}},y:{grid:{color:'#f3f4f6'},ticks:{font:{family:'Inter, sans-serif'}}}}};const pieData=useMemo(()=>{const expenses=transactions.filter(t=>t.type==='expense');const byCategory=expenses.reduce((acc,t)=>{acc[t.category]=(acc[t.category]||0)+t.amount;return acc;},{});return{labels:Object.keys(byCategory).map(k=>k.charAt(0).toUpperCase()+k.slice(1)),datasets:[{data:Object.values(byCategory),backgroundColor:['#818cf8','#34d399','#f87171','#fbbf24','#a78bfa','#fb923c'],borderWidth:0,hoverOffset:15}]};},[transactions]);const lineData=useMemo(()=>{const sorted=[...transactions].sort((a,b)=>new Date(a.timestamp)-new Date(b.timestamp));let runningBalance=0;const dataPoints=sorted.map(t=>{runningBalance+=t.type==='income'?t.amount:-t.amount;return runningBalance;});return{labels:sorted.map(t=>new Date(t.timestamp).toLocaleDateString([],{day:'2-digit',month:'short'})),datasets:[{label:'Net Balance',data:dataPoints,borderColor:'#6366f1',backgroundColor:context=>{const ctx=context.chart.ctx;const gradient=ctx.createLinearGradient(0,0,0,200);gradient.addColorStop(0,'rgba(99,102,241,0.4)');gradient.addColorStop(1,'rgba(99,102,241,0.0)');return gradient;},fill:true,tension:0.4,pointRadius:3,pointHoverRadius:6}]};},[transactions]);const barData=useMemo(()=>{const days={};transactions.forEach(t=>{const day=new Date(t.timestamp).getDate();if(!days[day])days[day]={income:0,expense:0};days[day][t.type]+=t.amount;});const labels=Object.keys(days).sort((a,b)=>Number(a)-Number(b));return{labels:labels,datasets:[{label:'Income',data:labels.map(d=>days[d].income),backgroundColor:'#34d399',borderRadius:4},{label:'Expense',data:labels.map(d=>days[d].expense),backgroundColor:'#f87171',borderRadius:4}]};},[transactions]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-indigo-200 rounded-full mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 font-medium\",children:\"Loading Dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#f8fafc] font-sans text-slate-800\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200/80 px-4 py-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto flex flex-wrap items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-200\",children:/*#__PURE__*/_jsx(Icons.Wallet,{className:\"text-white h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\",children:\"Finance Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs sm:text-sm text-slate-500 font-medium\",children:[\"Welcome back, overview for \",new Date(filterMonth).toLocaleDateString([],{month:'long',year:'numeric'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 sm:gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleGetAdvice,disabled:adviceLoading,className:\"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-all active:scale-95 disabled:opacity-70\",children:[adviceLoading?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(Icons.LightBulb,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Get Advice\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",value:filterMonth,onChange:e=>setFilterMonth(e.target.value),className:\"input-base py-2 px-3 text-sm\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogOut,className:\"flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-100\",children:[/*#__PURE__*/_jsx(Icons.LogOut,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"LogOut\"})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto p-4 sm:px-6 lg:px-8 py-8 space-y-8\",children:[advice&&/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in-up bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 p-4 rounded-2xl relative flex items-start gap-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-amber-100 text-amber-600 rounded-xl flex-shrink-0\",children:/*#__PURE__*/_jsx(Icons.LightBulb,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pr-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-amber-800 mb-1\",children:\"Advisor Insight\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-900 text-sm leading-relaxed\",children:advice})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAdvice(null),className:\"absolute top-4 right-4 text-amber-400 hover:text-amber-700 transition-colors\",children:/*#__PURE__*/_jsx(Icons.X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 animate-fade-in-up\",children:[/*#__PURE__*/_jsx(SummaryCard,{title:\"Total Balance\",amount:balance,type:\"neutral\",icon:Icons.Wallet}),/*#__PURE__*/_jsx(SummaryCard,{title:\"Monthly Income\",amount:totalIncome,type:\"income\",icon:Icons.TrendingUp}),/*#__PURE__*/_jsx(SummaryCard,{title:\"Monthly Expenses\",amount:totalExpenses,type:\"expense\",icon:Icons.TrendingDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-2 space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-baseline mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-slate-700\",children:\"Monthly Budget\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold \".concat(budgetProgress>100?'text-red-500':'text-slate-700'),children:[\"\\u20B9\",totalExpenses.toFixed(0)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-slate-400\",children:[\" / \\u20B9\",budget.toFixed(0)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full transition-all duration-1000 ease-out rounded-full \".concat(budgetProgress>90?'bg-red-500':budgetProgress>75?'bg-amber-400':'bg-indigo-500'),style:{width:\"\".concat(Math.min(budgetProgress,100),\"%\")}})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetBudget,className:\"btn-secondary self-start sm:self-center whitespace-nowrap\",children:\"Edit Budget\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card p-1 sm:p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex border-b border-slate-100 px-4 pt-4 overflow-x-auto no-scrollbar\",children:['overview','trends','breakdown'].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveChartTab(tab),className:\"pb-3 px-4 text-sm font-semibold capitalize transition-all relative \".concat(activeChartTab===tab?'text-indigo-600':'text-slate-400 hover:text-slate-600'),children:[tab,activeChartTab===tab&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full\"})]},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-80 sm:h-96 relative\",children:[activeChartTab==='overview'&&/*#__PURE__*/_jsx(Line,{data:lineData,options:chartOptionsCommon}),activeChartTab==='trends'&&/*#__PURE__*/_jsx(Bar,{data:barData,options:chartOptionsCommon}),activeChartTab==='breakdown'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md h-full\",children:/*#__PURE__*/_jsx(Pie,{data:pieData,options:_objectSpread(_objectSpread({},chartOptionsCommon),{},{plugins:_objectSpread(_objectSpread({},chartOptionsCommon.plugins),{},{legend:{position:'right'}})})})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card p-5 sm:p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-indigo-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Icons.Plus,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold\",children:\"Quick Add\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdd,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"input-glass\",value:form.type,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expense\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"Income\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",className:\"input-glass\",min:\"0.01\",step:\"0.01\",required:true,value:form.amount,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{amount:e.target.value}))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What was it for?\",className:\"input-glass w-full\",required:true,value:form.description,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{description:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"input-glass flex-1\",value:form.category,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{category:e.target.value})),children:['Housing','Food','Transportation','Entertainment','Utilities','Other'].map(c=>/*#__PURE__*/_jsx(\"option\",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-white text-indigo-700 hover:bg-indigo-50 font-bold py-3 px-6 rounded-xl shadow-md transition-all active:scale-95\",children:\"Add\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card h-[500px] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white z-10 rounded-t-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-slate-700\",children:\"Transactions\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium px-2.5 py-1 bg-slate-100 text-slate-500 rounded-full\",children:[transactions.length,\" items\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto flex-1 p-3 custom-scrollbar\",children:transactions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col items-center justify-center text-slate-400 space-y-3\",children:[/*#__PURE__*/_jsx(Icons.Wallet,{className:\"h-12 w-12 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No transactions for this month.\"})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:transactions.map(t=>/*#__PURE__*/_jsx(TransactionItem,{t:t,onDelete:handleDelete},t._id))})})]})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .card { @apply bg-white rounded-2xl shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-slate-100/50 transition-all duration-300 hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)]; }\\n                .input-base { @apply bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all; }\\n                .input-glass { @apply bg-white/10 border border-white/20 text-white placeholder-white/60 text-sm rounded-xl focus:bg-white/20 focus:border-white/40 outline-none transition-all py-3 px-4; }\\n                .input-glass option { @apply text-slate-800 bg-white; }\\n                .btn-secondary { @apply py-2 px-4 bg-white border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 active:scale-95 transition-all text-sm; }\\n                .custom-scrollbar::-webkit-scrollbar { width: 6px; }\\n                .custom-scrollbar::-webkit-scrollbar-track { bg: transparent; }\\n                .custom-scrollbar::-webkit-scrollbar-thumb { @apply bg-slate-200 rounded-full hover:bg-slate-300; }\\n                @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\\n                .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }\\n                .no-scrollbar::-webkit-scrollbar { display: none; }\\n                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\\n            \"})]});}// --- SUB-COMPONENTS ---\nfunction SummaryCard(_ref2){let{title,amount,type,icon:Icon}=_ref2;const colors={neutral:'bg-white text-indigo-600',income:'bg-emerald-50 text-emerald-600',expense:'bg-rose-50 text-rose-600'};const iconColors={neutral:'bg-indigo-100 text-indigo-600',income:'bg-emerald-100 text-emerald-600',expense:'bg-rose-100 text-rose-600'};return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 flex items-center gap-4 \".concat(type!=='neutral'?'border-0':'',\" \").concat(colors[type].split(' ')[0]),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(iconColors[type]),children:/*#__PURE__*/_jsx(Icon,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-slate-500 mb-1\",children:title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl sm:text-3xl font-bold \".concat(colors[type].split(' ')[1]),children:[\"\\u20B9\",amount.toLocaleString('en-IN',{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]});}function TransactionItem(_ref3){let{t,onDelete}=_ref3;const Icon=Icons[t.category]||Icons.Other;const isIncome=t.type==='income';return/*#__PURE__*/_jsxs(\"li\",{className:\"group flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2.5 rounded-lg \".concat(isIncome?'bg-emerald-100/50 text-emerald-600':'bg-rose-100/50 text-rose-600'),children:/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-slate-700 truncate\",children:t.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-slate-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:t.category}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(t.timestamp).toLocaleDateString([],{day:'numeric',month:'short'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold whitespace-nowrap \".concat(isIncome?'text-emerald-600':'text-slate-700'),children:[isIncome?'+':'-',\" \\u20B9\",Number(t.amount).toLocaleString('en-IN')]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(t._id),className:\"absolute right-2 p-2 bg-white text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-all\",title:\"Delete transaction\",children:/*#__PURE__*/_jsx(Icons.Trash,{className:\"h-4 w-4\"})})]});}","map":{"version":3,"names":["useEffect","useMemo","useState","Pie","Bar","Line","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","PointElement","LineElement","Title","Filler","AdivisorAI","jsx","_jsx","jsxs","_jsxs","register","MOCK_STORAGE_KEY","delay","ms","Promise","resolve","setTimeout","getMockData","JSON","parse","localStorage","getItem","transactions","budget","_unused","saveMockData","data","setItem","stringify","initialData","_id","description","amount","type","category","timestamp","Date","setDate","fetchTransactions","fetchBudget","setBudgetAPI","addTransactionAPI","tx","newTx","_objectSpread","Math","random","toString","substr","toISOString","unshift","deleteTransactionAPI","id","filter","t","resetTransactionsAPI","Icons","Housing","props","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","points","Food","Transportation","cx","cy","r","Entertainment","x","y","rx","ry","x1","x2","y1","y2","Utilities","Other","Plus","Trash","Wallet","TrendingUp","TrendingDown","LogOut","LightBulb","X","Dashboard","_ref","onLogOut","allTransactions","setAllTransactions","setBudgetState","loading","setLoading","filterMonth","setFilterMonth","slice","activeChartTab","setActiveChartTab","advice","setAdvice","adviceLoading","setAdviceLoading","form","setForm","startsWith","totalIncome","totalExpenses","balance","income","expenses","forEach","budgetProgress","min","load","txs","b","all","formattedTxs","Array","isArray","map","e","console","error","handleAdd","preventDefault","parseFloat","isNaN","created","prev","alert","handleDelete","window","confirm","handleSetBudget","input","prompt","concat","handleGetAdvice","response","chartOptionsCommon","responsive","maintainAspectRatio","plugins","legend","labels","usePointStyle","font","family","size","tooltip","backgroundColor","titleFont","bodyFont","padding","cornerRadius","displayColors","scales","grid","display","ticks","color","pieData","byCategory","reduce","acc","Object","keys","k","charAt","toUpperCase","datasets","values","borderWidth","hoverOffset","lineData","sorted","sort","a","runningBalance","dataPoints","toLocaleDateString","day","month","label","borderColor","context","ctx","chart","gradient","createLinearGradient","addColorStop","tension","pointRadius","pointHoverRadius","barData","days","getDate","expense","Number","borderRadius","className","year","onClick","disabled","value","onChange","target","SummaryCard","title","icon","toFixed","style","tab","options","position","onSubmit","f","placeholder","step","required","c","length","TransactionItem","onDelete","_ref2","Icon","colors","neutral","iconColors","split","toLocaleString","minimumFractionDigits","maximumFractionDigits","_ref3","isIncome"],"sources":["/home/stuban/Downloads/Minor project/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { Pie, Bar, Line } from 'react-chartjs-2';\nimport {\n    Chart as ChartJS,\n    ArcElement,\n    Tooltip,\n    Legend,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    PointElement,\n    LineElement,\n    Title,\n    Filler\n} from 'chart.js';\nimport { AdivisorAI } from '../api';\n\n// Register ChartJS components\nChartJS.register(\n    ArcElement,\n    Tooltip,\n    Legend,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    PointElement,\n    LineElement,\n    Title,\n    Filler\n);\n\n// --- INLINE MOCK API (Ensures functionality without external backend) ---\nconst MOCK_STORAGE_KEY = 'finance_dashboard_mock_data';\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\nconst getMockData = () => {\n    try {\n        return JSON.parse(localStorage.getItem(MOCK_STORAGE_KEY)) || { transactions: [], budget: 0 };\n    } catch {\n        return { transactions: [], budget: 0 };\n    }\n};\nconst saveMockData = (data) => localStorage.setItem(MOCK_STORAGE_KEY, JSON.stringify(data));\n\n// Seed some data if empty\nif (!localStorage.getItem(MOCK_STORAGE_KEY)) {\n    const initialData = {\n        budget: 2500,\n        transactions: [\n            { _id: '1', description: 'Salary', amount: 3000, type: 'income', category: 'Other', timestamp: new Date().setDate(1) },\n            { _id: '2', description: 'Rent', amount: 1200, type: 'expense', category: 'Housing', timestamp: new Date().setDate(5) },\n            { _id: '3', description: 'Groceries', amount: 150, type: 'expense', category: 'Food', timestamp: new Date().setDate(7) },\n            { _id: '4', description: 'Movies', amount: 45, type: 'expense', category: 'Entertainment', timestamp: new Date().setDate(10) },\n        ]\n    };\n    saveMockData(initialData);\n}\n\nasync function fetchTransactions() { await delay(500); return getMockData().transactions; }\nasync function fetchBudget() { await delay(500); return { amount: getMockData().budget }; }\nasync function setBudgetAPI(amount) { await delay(300); const data = getMockData(); data.budget = amount; saveMockData(data); return { amount }; }\nasync function addTransactionAPI(tx) { await delay(300); const data = getMockData(); const newTx = { ...tx, _id: Math.random().toString(36).substr(2, 9), timestamp: new Date().toISOString() }; data.transactions.unshift(newTx); saveMockData(data); return newTx; }\nasync function deleteTransactionAPI(id) { await delay(300); const data = getMockData(); data.transactions = data.transactions.filter(t => t._id !== id); saveMockData(data); return true; }\nasync function resetTransactionsAPI() { await delay(300); const data = getMockData(); data.transactions = []; saveMockData(data); return true; }\n\n// -----------------------------------------------------------------------\n\n// --- ICONS ---\nconst Icons = {\n    Housing: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/><polyline points=\"9 22 9 12 15 12 15 22\"/></svg>,\n    Food: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\"/><path d=\"M7 2v20\"/><path d=\"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\"/></svg>,\n    Transportation: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2\"/><circle cx=\"7\" cy=\"17\" r=\"2\"/><circle cx=\"17\" cy=\"17\" r=\"2\"/><path d=\"M15 17h2\"/></svg>,\n    Entertainment: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><rect width=\"20\" height=\"20\" x=\"2\" y=\"2\" rx=\"2.18\" ry=\"2.18\"/><line x1=\"7\" x2=\"7\" y1=\"2\" y2=\"22\"/><line x1=\"17\" x2=\"17\" y1=\"2\" y2=\"22\"/><line x1=\"2\" x2=\"22\" y1=\"12\" y2=\"12\"/><line x1=\"2\" x2=\"7\" y1=\"7\" y2=\"7\"/><line x1=\"2\" x2=\"7\" y1=\"17\" y2=\"17\"/><line x1=\"17\" x2=\"22\" y1=\"17\" y2=\"17\"/><line x1=\"17\" x2=\"22\" y1=\"7\" y2=\"7\"/></svg>,\n    Utilities: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M12 2v8\"/><path d=\"m4.93 10.93 1.41 1.41\"/><path d=\"M2 18h2\"/><path d=\"M20 18h2\"/><path d=\"m19.07 10.93-1.41 1.41\"/><path d=\"M22 22H2\"/><path d=\"m8 22 4-10 4 10\"/><path d=\"M12 2v8\"/></svg>,\n    Other: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>,\n    Plus: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M5 12h14\"/><path d=\"M12 5v14\"/></svg>,\n    Trash: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M3 6h18\"/><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"/><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"/></svg>,\n    Wallet: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\"/><path d=\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\"/></svg>,\n    TrendingUp: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><polyline points=\"22 7 13.5 15.5 8.5 10.5 2 17\"/><polyline points=\"16 7 22 7 22 13\"/></svg>,\n    TrendingDown: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><polyline points=\"22 17 13.5 8.5 8.5 13.5 2 7\"/><polyline points=\"16 17 22 17 22 11\"/></svg>,\n    LogOut: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\"/></svg>,\n    LightBulb: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><path d=\"M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .5 2 1.5 3.5.8.8 1.3 1.5 1.5 2.5\"/><path d=\"M9 18h6\"/><path d=\"M10 22h4\"/></svg>,\n    X: (props) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>,\n};\n\nexport default function Dashboard({ onLogOut }) {\n    const [allTransactions, setAllTransactions] = useState([]);\n    const [budget, setBudgetState] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7)); // YYYY-MM\n    const [activeChartTab, setActiveChartTab] = useState('overview');\n    \n    // Advisor State\n    const [advice, setAdvice] = useState(null);\n    const [adviceLoading, setAdviceLoading] = useState(false);\n\n    const [form, setForm] = useState({\n        description: '',\n        amount: '',\n        type: 'expense',\n        category: 'Food'\n    });\n\n    // Filter transactions based on selected month\n    const transactions = useMemo(() => {\n        return allTransactions.filter(t => t.timestamp && t.timestamp.startsWith(filterMonth));\n    }, [allTransactions, filterMonth]);\n\n    // --- CALCULATIONS ---\n    const { totalIncome, totalExpenses, balance } = useMemo(() => {\n        let income = 0, expenses = 0;\n        transactions.forEach(t => {\n            if (t.type === 'income') income += t.amount;\n            else expenses += t.amount;\n        });\n        return { totalIncome: income, totalExpenses: expenses, balance: income - expenses };\n    }, [transactions]);\n\n    const budgetProgress = useMemo(() => {\n        if (budget <= 0) return 0;\n        return Math.min((totalExpenses / budget) * 100, 100);\n    }, [totalExpenses, budget]);\n\n    // --- INITIAL LOAD ---\n    useEffect(() => {\n        async function load() {\n            setLoading(true);\n            try {\n                const [txs, b] = await Promise.all([fetchTransactions(), fetchBudget()]);\n                const formattedTxs = (Array.isArray(txs) ? txs : []).map(t => ({\n                    ...t,\n                    timestamp: new Date(t.timestamp).toISOString()\n                }));\n                setAllTransactions(formattedTxs);\n                setBudgetState(b?.amount || 0);\n            } catch (e) {\n                console.error(\"Failed to load data\", e);\n            } finally {\n                setLoading(false);\n            }\n        }\n        load();\n    }, []);\n\n    // --- ACTIONS ---\n    async function handleAdd(e) {\n        e.preventDefault();\n        const amount = parseFloat(form.amount);\n        if (!form.description || isNaN(amount) || amount <= 0) return;\n        try {\n            const created = await addTransactionAPI({ ...form, amount });\n            if (created?._id) {\n                setAllTransactions(prev => [created, ...prev]);\n                setForm({ description: '', amount: '', type: 'expense', category: 'Food' });\n            }\n        } catch (e) { alert(\"Failed to add transaction\"); }\n    }\n\n    async function handleDelete(id) {\n        if (!window.confirm(\"Delete this transaction?\")) return;\n        try {\n            await deleteTransactionAPI(id);\n            setAllTransactions(prev => prev.filter(t => t._id !== id));\n        } catch (e) { alert(\"Failed to delete\"); }\n    }\n\n    async function handleSetBudget() {\n        const input = prompt('Set monthly budget target (₹):', `${budget || 0}`);\n        if (input === null) return;\n        const amount = parseFloat(input);\n        if (isNaN(amount) || amount < 0) return;\n        try {\n            const b = await setBudgetAPI(amount);\n            setBudgetState(b?.amount || 0);\n        } catch (e) { alert(\"Failed to set budget\"); }\n    }\n\n    async function handleGetAdvice() {\n        setAdviceLoading(true);\n        setAdvice(null); // Clear previous advice while loading\n        try {\n            const response = await AdivisorAI();\n            setAdvice(response);\n        } catch (error) {\n            setAdvice(\"Sorry, I couldn't generate advice at this moment.\");\n        } finally {\n            setAdviceLoading(false);\n        }\n    }\n\n    // --- CHART DATA PREPARATION ---\n    const chartOptionsCommon = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n            legend: { labels: { usePointStyle: true, font: { family: 'Inter, sans-serif', size: 12 } } },\n            tooltip: {\n                backgroundColor: 'rgba(17, 24, 39, 0.9)',\n                titleFont: { family: 'Inter, sans-serif', size: 13 },\n                bodyFont: { family: 'Inter, sans-serif', size: 12 },\n                padding: 10,\n                cornerRadius: 8,\n                displayColors: false\n            }\n        },\n        scales: {\n            x: { grid: { display: false }, ticks: { font: { family: 'Inter, sans-serif' } } },\n            y: { grid: { color: '#f3f4f6' }, ticks: { font: { family: 'Inter, sans-serif' } } }\n        }\n    };\n\n    const pieData = useMemo(() => {\n        const expenses = transactions.filter(t => t.type === 'expense');\n        const byCategory = expenses.reduce((acc, t) => { acc[t.category] = (acc[t.category] || 0) + t.amount; return acc; }, {});\n        return {\n            labels: Object.keys(byCategory).map(k => k.charAt(0).toUpperCase() + k.slice(1)),\n            datasets: [{\n                data: Object.values(byCategory),\n                backgroundColor: ['#818cf8', '#34d399', '#f87171', '#fbbf24', '#a78bfa', '#fb923c'],\n                borderWidth: 0,\n                hoverOffset: 15\n            }]\n        };\n    }, [transactions]);\n\n    const lineData = useMemo(() => {\n        const sorted = [...transactions].sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n        let runningBalance = 0;\n        const dataPoints = sorted.map(t => {\n            runningBalance += t.type === 'income' ? t.amount : -t.amount;\n            return runningBalance;\n        });\n\n        return {\n            labels: sorted.map(t => new Date(t.timestamp).toLocaleDateString([], { day: '2-digit', month: 'short' })),\n            datasets: [{\n                label: 'Net Balance',\n                data: dataPoints,\n                borderColor: '#6366f1',\n                backgroundColor: (context) => {\n                    const ctx = context.chart.ctx;\n                    const gradient = ctx.createLinearGradient(0, 0, 0, 200);\n                    gradient.addColorStop(0, 'rgba(99,102,241,0.4)');\n                    gradient.addColorStop(1, 'rgba(99,102,241,0.0)');\n                    return gradient;\n                },\n                fill: true,\n                tension: 0.4,\n                pointRadius: 3,\n                pointHoverRadius: 6\n            }]\n        };\n    }, [transactions]);\n\n    const barData = useMemo(() => {\n        const days = {};\n        transactions.forEach(t => {\n            const day = new Date(t.timestamp).getDate();\n            if (!days[day]) days[day] = { income: 0, expense: 0 };\n            days[day][t.type] += t.amount;\n        });\n        const labels = Object.keys(days).sort((a, b) => Number(a) - Number(b));\n        return {\n            labels: labels,\n            datasets: [\n                { label: 'Income', data: labels.map(d => days[d].income), backgroundColor: '#34d399', borderRadius: 4 },\n                { label: 'Expense', data: labels.map(d => days[d].expense), backgroundColor: '#f87171', borderRadius: 4 }\n            ]\n        };\n    }, [transactions]);\n\n\n    if (loading) {\n        return <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n            <div className=\"animate-pulse flex flex-col items-center\">\n                <div className=\"h-12 w-12 bg-indigo-200 rounded-full mb-4\"></div>\n                <div className=\"text-gray-400 font-medium\">Loading Dashboard...</div>\n            </div>\n        </div>;\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[#f8fafc] font-sans text-slate-800\">\n            {/* --- HEADER --- */}\n            <header className=\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200/80 px-4 py-4 sm:px-6 lg:px-8\">\n                <div className=\"max-w-7xl mx-auto flex flex-wrap items-center justify-between gap-4\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-2 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-200\">\n                            <Icons.Wallet className=\"text-white h-6 w-6\" />\n                        </div>\n                        <div>\n                            <h1 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                                Finance Dashboard\n                            </h1>\n                            <p className=\"text-xs sm:text-sm text-slate-500 font-medium\">Welcome back, overview for {new Date(filterMonth).toLocaleDateString([], { month: 'long', year: 'numeric' })}</p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-center gap-3 sm:gap-4\">\n                        <button\n                            onClick={handleGetAdvice}\n                            disabled={adviceLoading}\n                            className=\"flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-all active:scale-95 disabled:opacity-70\"\n                        >\n                            {adviceLoading ? (\n                                <svg className=\"animate-spin h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                            ) : (\n                                <Icons.LightBulb className=\"h-4 w-4\" />\n                            )}\n                            <span className=\"hidden sm:inline\">Get Advice</span>\n                        </button>\n                         <input\n                            type=\"month\"\n                            value={filterMonth}\n                            onChange={(e) => setFilterMonth(e.target.value)}\n                            className=\"input-base py-2 px-3 text-sm\"\n                        />\n                        <button onClick={onLogOut} className=\"flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-100\">\n                            <Icons.LogOut className=\"h-4 w-4\" />\n                            <span className=\"hidden sm:inline\">LogOut</span>\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            <main className=\"max-w-7xl mx-auto p-4 sm:px-6 lg:px-8 py-8 space-y-8\">\n                {/* --- ADVICE SECTION (Conditionally Rendered) --- */}\n                {advice && (\n                    <div className=\"animate-fade-in-up bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 p-4 rounded-2xl relative flex items-start gap-4 shadow-sm\">\n                        <div className=\"p-2 bg-amber-100 text-amber-600 rounded-xl flex-shrink-0\">\n                            <Icons.LightBulb className=\"h-6 w-6\" />\n                        </div>\n                        <div className=\"flex-1 pr-8\">\n                            <h3 className=\"font-bold text-amber-800 mb-1\">Advisor Insight</h3>\n                            <p className=\"text-amber-900 text-sm leading-relaxed\">{advice}</p>\n                        </div>\n                        <button \n                            onClick={() => setAdvice(null)} \n                            className=\"absolute top-4 right-4 text-amber-400 hover:text-amber-700 transition-colors\"\n                        >\n                            <Icons.X className=\"h-5 w-5\" />\n                        </button>\n                    </div>\n                )}\n\n                {/* --- SUMMARY CARDS --- */}\n                <section className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 animate-fade-in-up\">\n                    <SummaryCard title=\"Total Balance\" amount={balance} type=\"neutral\" icon={Icons.Wallet} />\n                    <SummaryCard title=\"Monthly Income\" amount={totalIncome} type=\"income\" icon={Icons.TrendingUp} />\n                    <SummaryCard title=\"Monthly Expenses\" amount={totalExpenses} type=\"expense\" icon={Icons.TrendingDown} />\n                </section>\n\n                <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-8\">\n                    {/* --- LEFT COLUMN (Charts & Budget) --- */}\n                    <div className=\"xl:col-span-2 space-y-8\">\n                        {/* BUDGET PROGRESS */}\n                        <section className=\"card p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n                            <div className=\"flex-1\">\n                                <div className=\"flex justify-between items-baseline mb-2\">\n                                    <h3 className=\"font-semibold text-slate-700\">Monthly Budget</h3>\n                                    <div className=\"text-sm\">\n                                        <span className={`font-bold ${budgetProgress > 100 ? 'text-red-500' : 'text-slate-700'}`}>\n                                            ₹{totalExpenses.toFixed(0)}\n                                        </span>\n                                        <span className=\"text-slate-400\"> / ₹{budget.toFixed(0)}</span>\n                                    </div>\n                                </div>\n                                <div className=\"h-3 bg-slate-100 rounded-full overflow-hidden shadow-inner\">\n                                    <div\n                                        className={`h-full transition-all duration-1000 ease-out rounded-full ${\n                                            budgetProgress > 90 ? 'bg-red-500' : budgetProgress > 75 ? 'bg-amber-400' : 'bg-indigo-500'\n                                        }`}\n                                        style={{ width: `${Math.min(budgetProgress, 100)}%` }}\n                                    />\n                                </div>\n                            </div>\n                            <button onClick={handleSetBudget} className=\"btn-secondary self-start sm:self-center whitespace-nowrap\">\n                                Edit Budget\n                            </button>\n                        </section>\n\n                        {/* CHARTS AREA */}\n                        <section className=\"card p-1 sm:p-2\">\n                            <div className=\"flex border-b border-slate-100 px-4 pt-4 overflow-x-auto no-scrollbar\">\n                                {['overview', 'trends', 'breakdown'].map((tab) => (\n                                    <button\n                                        key={tab}\n                                        onClick={() => setActiveChartTab(tab)}\n                                        className={`pb-3 px-4 text-sm font-semibold capitalize transition-all relative ${\n                                            activeChartTab === tab ? 'text-indigo-600' : 'text-slate-400 hover:text-slate-600'\n                                        }`}\n                                    >\n                                        {tab}\n                                        {activeChartTab === tab && (\n                                            <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full\" />\n                                        )}\n                                    </button>\n                                ))}\n                            </div>\n                            <div className=\"p-4 h-80 sm:h-96 relative\">\n                                {activeChartTab === 'overview' && <Line data={lineData} options={chartOptionsCommon} />}\n                                {activeChartTab === 'trends' && <Bar data={barData} options={chartOptionsCommon} />}\n                                {activeChartTab === 'breakdown' && (\n                                    <div className=\"h-full flex items-center justify-center\">\n                                        <div className=\"w-full max-w-md h-full\">\n                                            <Pie data={pieData} options={{...chartOptionsCommon, plugins: { ...chartOptionsCommon.plugins, legend: { position: 'right' }}}} />\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </section>\n                    </div>\n\n                    {/* --- RIGHT COLUMN (Actions & History) --- */}\n                    <div className=\"space-y-8\">\n                        {/* ADD TRANSACTION FORM */}\n                        <section className=\"card p-5 sm:p-6 bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-indigo-200\">\n                            <div className=\"flex items-center gap-3 mb-6\">\n                                <div className=\"p-2 bg-white/20 rounded-lg backdrop-blur-sm\">\n                                    <Icons.Plus className=\"h-5 w-5 text-white\" />\n                                </div>\n                                <h2 className=\"text-lg font-bold\">Quick Add</h2>\n                            </div>\n                            <form onSubmit={handleAdd} className=\"space-y-4\">\n                                <div className=\"grid grid-cols-2 gap-3\">\n                                    <select\n                                        className=\"input-glass\"\n                                        value={form.type}\n                                        onChange={e => setForm(f => ({ ...f, type: e.target.value }))}\n                                    >\n                                        <option value=\"expense\">Expense</option>\n                                        <option value=\"income\">Income</option>\n                                    </select>\n                                    <input\n                                        type=\"number\"\n                                        placeholder=\"Amount\"\n                                        className=\"input-glass\"\n                                        min=\"0.01\" step=\"0.01\" required\n                                        value={form.amount}\n                                        onChange={e => setForm(f => ({ ...f, amount: e.target.value }))}\n                                    />\n                                </div>\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"What was it for?\"\n                                    className=\"input-glass w-full\"\n                                    required\n                                    value={form.description}\n                                    onChange={e => setForm(f => ({ ...f, description: e.target.value }))}\n                                />\n                                <div className=\"flex gap-3\">\n                                    <select\n                                        className=\"input-glass flex-1\"\n                                        value={form.category}\n                                        onChange={e => setForm(f => ({ ...f, category: e.target.value }))}\n                                    >\n                                         {['Housing', 'Food', 'Transportation', 'Entertainment', 'Utilities', 'Other'].map(c => (\n                                             <option key={c} value={c}>{c.charAt(0).toUpperCase() + c.slice(1)}</option>\n                                         ))}\n                                    </select>\n                                    <button type=\"submit\" className=\"bg-white text-indigo-700 hover:bg-indigo-50 font-bold py-3 px-6 rounded-xl shadow-md transition-all active:scale-95\">\n                                        Add\n                                    </button>\n                                </div>\n                            </form>\n                        </section>\n\n                        {/* RECENT TRANSACTIONS */}\n                        <section className=\"card h-[500px] flex flex-col\">\n                            <div className=\"p-5 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white z-10 rounded-t-2xl\">\n                                <h2 className=\"font-bold text-slate-700\">Transactions</h2>\n                                <span className=\"text-xs font-medium px-2.5 py-1 bg-slate-100 text-slate-500 rounded-full\">\n                                    {transactions.length} items\n                                </span>\n                            </div>\n                            <div className=\"overflow-y-auto flex-1 p-3 custom-scrollbar\">\n                                {transactions.length === 0 ? (\n                                    <div className=\"h-full flex flex-col items-center justify-center text-slate-400 space-y-3\">\n                                        <Icons.Wallet className=\"h-12 w-12 opacity-50\" />\n                                        <p>No transactions for this month.</p>\n                                    </div>\n                                ) : (\n                                    <ul className=\"space-y-2\">\n                                        {transactions.map(t => (\n                                            <TransactionItem key={t._id} t={t} onDelete={handleDelete} />\n                                        ))}\n                                    </ul>\n                                )}\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </main>\n             {/* Global styles for custom scrollbar and animations that Tailwind doesn't provide out of the box cleanly */}\n             <style>{`\n                .card { @apply bg-white rounded-2xl shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-slate-100/50 transition-all duration-300 hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)]; }\n                .input-base { @apply bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all; }\n                .input-glass { @apply bg-white/10 border border-white/20 text-white placeholder-white/60 text-sm rounded-xl focus:bg-white/20 focus:border-white/40 outline-none transition-all py-3 px-4; }\n                .input-glass option { @apply text-slate-800 bg-white; }\n                .btn-secondary { @apply py-2 px-4 bg-white border border-slate-200 text-slate-600 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 active:scale-95 transition-all text-sm; }\n                .custom-scrollbar::-webkit-scrollbar { width: 6px; }\n                .custom-scrollbar::-webkit-scrollbar-track { bg: transparent; }\n                .custom-scrollbar::-webkit-scrollbar-thumb { @apply bg-slate-200 rounded-full hover:bg-slate-300; }\n                @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n                .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }\n                .no-scrollbar::-webkit-scrollbar { display: none; }\n                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n            `}</style>\n        </div>\n    );\n}\n\n// --- SUB-COMPONENTS ---\n\nfunction SummaryCard({ title, amount, type, icon: Icon }) {\n    const colors = {\n        neutral: 'bg-white text-indigo-600',\n        income: 'bg-emerald-50 text-emerald-600',\n        expense: 'bg-rose-50 text-rose-600',\n    };\n    const iconColors = {\n        neutral: 'bg-indigo-100 text-indigo-600',\n        income: 'bg-emerald-100 text-emerald-600',\n        expense: 'bg-rose-100 text-rose-600',\n    }\n\n    return (\n        <div className={`card p-6 flex items-center gap-4 ${type !== 'neutral' ? 'border-0' : ''} ${colors[type].split(' ')[0]}`}>\n            <div className={`p-3 rounded-xl ${iconColors[type]}`}>\n                <Icon className=\"h-6 w-6\" />\n            </div>\n            <div>\n                <p className=\"text-sm font-medium text-slate-500 mb-1\">{title}</p>\n                <p className={`text-2xl sm:text-3xl font-bold ${colors[type].split(' ')[1]}`}>\n                    ₹{amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                </p>\n            </div>\n        </div>\n    );\n}\n\nfunction TransactionItem({ t, onDelete }) {\n    const Icon = Icons[t.category] || Icons.Other;\n    const isIncome = t.type === 'income';\n\n    return (\n        <li className=\"group flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors relative\">\n            <div className={`p-2.5 rounded-lg ${isIncome ? 'bg-emerald-100/50 text-emerald-600' : 'bg-rose-100/50 text-rose-600'}`}>\n                <Icon className=\"h-5 w-5\" />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n                <p className=\"font-semibold text-slate-700 truncate\">{t.description}</p>\n                <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n                     <span className=\"capitalize\">{t.category}</span>\n                     <span>•</span>\n                     <span>{new Date(t.timestamp).toLocaleDateString([], { day: 'numeric', month: 'short' })}</span>\n                </div>\n            </div>\n            <div className={`font-bold whitespace-nowrap ${isIncome ? 'text-emerald-600' : 'text-slate-700'}`}>\n                {isIncome ? '+' : '-'} ₹{Number(t.amount).toLocaleString('en-IN')}\n            </div>\n             <button\n                onClick={() => onDelete(t._id)}\n                className=\"absolute right-2 p-2 bg-white text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-all\"\n                title=\"Delete transaction\"\n            >\n                <Icons.Trash className=\"h-4 w-4\" />\n            </button>\n        </li>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}